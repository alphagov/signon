<% content_for :title_caption, "Manage API users" %>
<% content_for :title, "Edit #{@api_user.name}" %>

<% content_for :breadcrumbs,
   render("govuk_publishing_components/components/breadcrumbs", {
     collapse_on_mobile: true,
     breadcrumbs: [
       {
         title: "Dashboard",
         url: root_path,
       },
       {
         title: "API users",
         url: api_users_path,
       },
       {
         title: "Edit #{@api_user.name}",
       }
     ]
   })
%>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <section>
      <%= render "govuk_publishing_components/components/summary_list", {
        title: "API user details",
        heading_level: 2,
        heading_size: "l",
        items: [
          summary_list_item_for_name(@api_user),
          summary_list_item_for_email(@api_user),
          summary_list_item_for_status(@api_user),
        ]
      } %>
    </section>
    <section>
      <%= render "govuk_publishing_components/components/heading", {
        text: "Actions",
        font_size: "l",
        padding: true,
      } %>
      <%= render "govuk_publishing_components/components/list", {
        items: [
          link_to_access_log(@api_user),
          link_to_suspension(@api_user),
        ].compact
      } %>
    </section>
    <section>
      <div class="govuk-button-group">
        <%= render "govuk_publishing_components/components/button", {
          text: "Manage permissions",
          href: api_user_applications_path(@api_user)
        } %>
        <%= render "govuk_publishing_components/components/button", {
          text: "Manage tokens",
          href: manage_tokens_api_user_path(@api_user)
        } %>
      </div>
    </section>
  </div>
</div>
